import { createSlice, type PayloadAction } from "@reduxjs/toolkit";
import toast from "react-hot-toast";

export type User = {
  id: string;
  email: string | null;
  password?: string | null;
  provider?: string | null;
  roleCode?: string | null;
  businessUnitId: string | null;
  username: string | null;
  status?: string | null;
  firstName: string | null;
  lastName: string | null;
  department?: string | null;
  phoneNumber: string | null;
  activeDirectoryId: number | null;
  createdAt?: string | null;
  modifiedAt?: string | null;
  createdById?: string | null;
  modifiedById?: string | null;
};

const users: User[] = [
  {
    id: "16ce4813-ba96-47f7-bad2-e37967397e46",
    email: "dummy@test.com",
    password: "",
    provider: null,
    roleCode: "Supervisor",
    businessUnitId: null,
    username: "dummys",
    status: "ACTIVE",
    firstName: "dummy",
    lastName: "data",
    department: "Anali",
    phoneNumber: "010102",
    activeDirectoryId: null,
    createdAt: "2025-03-19T23:08:10.575Z",
    modifiedAt: "2025-03-19T23:25:41.099Z",
    createdById: "bde53fcc-07ee-4f5e-8273-6fa519dbf86b",
    modifiedById: "bde53fcc-07ee-4f5e-8273-6fa519dbf86b",
  },
  {
    id: "2a00483b-cc18-421e-94f3-12c0fefa8153",
    email: "reham.kotb@connectps.com",
    password: "",
    provider: "ACTIVE_DIRECTORY",
    roleCode: null,
    businessUnitId: "40aa7390-4461-4b12-9d13-18ad26f1d928",
    username: "reham",
    status: "ACTIVE",
    firstName: "reham",
    lastName: null,
    department: "QC",
    phoneNumber: "202",
    activeDirectoryId: 1005,
    createdAt: "2025-04-23T11:21:38.529Z",
    modifiedAt: "2025-04-23T11:21:38.529Z",
    createdById: null,
    modifiedById: null,
  },
  {
    id: "2a1b6e7e-c52c-481c-8ff9-20d5d499995d",
    email: "user2@collablab.local",
    password: "",
    provider: "ACTIVE_DIRECTORY",
    roleCode: null,
    businessUnitId: "a6616d07-3bdf-4987-b621-439c514f2b32",
    username: "user2",
    status: "ACTIVE",
    firstName: "user",
    lastName: "2",
    department: null,
    phoneNumber: null,
    activeDirectoryId: 4,
    createdAt: "2025-04-23T11:21:35.092Z",
    modifiedAt: "2025-04-23T11:21:35.092Z",
    createdById: null,
    modifiedById: null,
  },
  {
    id: "5472dfab-e535-46fe-92d9-ca9360a03e8b",
    email: null,
    password: "",
    provider: "ACTIVE_DIRECTORY",
    roleCode: null,
    businessUnitId: "a6616d07-3bdf-4987-b621-439c514f2b32",
    username: "user4",
    status: "ACTIVE",
    firstName: "user",
    lastName: "4",
    department: null,
    phoneNumber: null,
    activeDirectoryId: 4,
    createdAt: "2025-04-23T11:21:36.291Z",
    modifiedAt: "2025-04-23T11:21:36.291Z",
    createdById: null,
    modifiedById: null,
  },
  {
    id: "549de3ca-313e-4a73-999c-c62d4240a740",
    email: "testing.connectps@gmail.com",
    password: "",
    provider: "ACTIVE_DIRECTORY",
    roleCode: null,
    businessUnitId: "a6616d07-3bdf-4987-b621-439c514f2b32",
    username: "Lobna",
    status: "ACTIVE",
    firstName: "Lobna",
    lastName: null,
    department: "QC",
    phoneNumber: "1102",
    activeDirectoryId: 1005,
    createdAt: "2025-04-23T11:21:38.528Z",
    modifiedAt: "2025-04-23T11:21:38.528Z",
    createdById: null,
    modifiedById: null,
  },
  {
    id: "6759ccd0-64b6-445c-98d9-82fdf85c0a44",
    email: null,
    password: "",
    provider: "ACTIVE_DIRECTORY",
    roleCode: null,
    businessUnitId: "a6616d07-3bdf-4987-b621-439c514f2b32",
    username: "user3",
    status: "ACTIVE",
    firstName: "user",
    lastName: "3",
    department: null,
    phoneNumber: null,
    activeDirectoryId: 4,
    createdAt: "2025-04-23T11:21:36.290Z",
    modifiedAt: "2025-04-23T11:21:36.290Z",
    createdById: null,
    modifiedById: null,
  },
  {
    id: "bde53fcc-07ee-4f5e-8273-6fa519dbf86b",
    email: "admin@admin.com",
    password: "$2a$10$m9UV2qmATS7l.jcaAA.trOgFaMn7x6d1vhycsczzXy9LbX9/XnWDm",
    provider: "MANUAL",
    roleCode: "admin",
    businessUnitId: "a6616d07-3bdf-4987-b621-439c514f2b32",
    username: "admin",
    status: "ACTIVE",
    firstName: null,
    lastName: null,
    department: null,
    phoneNumber: null,
    activeDirectoryId: null,
    createdAt: null,
    modifiedAt: "2025-07-27T10:26:30.472Z",
    createdById: null,
    modifiedById: null,
  },
  {
    id: "c31543bc-a75c-4ce3-8e96-0e070beec68d",
    email: "superAdmin@cds.com",
    password: "$2a$10$m9UV2qmATS7l.jcaAA.trOgFaMn7x6d1vhycsczzXy9LbX9/XnWDm",
    provider: "MANUAL",
    roleCode: "SuperAdmin",
    businessUnitId: "a6616d07-3bdf-4987-b621-439c514f2b32",
    username: "SuperAdmin",
    status: "ACTIVE",
    firstName: null,
    lastName: null,
    department: null,
    phoneNumber: null,
    activeDirectoryId: null,
    createdAt: null,
    modifiedAt: "2025-04-07T11:59:06.164Z",
    createdById: null,
    modifiedById: null,
  },
  {
    id: "c346d886-b8c2-4082-8f73-3ca6376e2d1f",
    email: "user@u.com",
    password: "",
    provider: "MANUAL",
    roleCode: "agent",
    businessUnitId: "a6616d07-3bdf-4987-b621-439c514f2b32",
    username: "UUser",
    status: "ACTIVE",
    firstName: null,
    lastName: null,
    department: null,
    phoneNumber: null,
    activeDirectoryId: null,
    createdAt: "2025-03-23T11:10:26.600Z",
    modifiedAt: "2025-07-27T10:26:30.519Z",
    createdById: "c31543bc-a75c-4ce3-8e96-0e070beec68d",
    modifiedById: "bde53fcc-07ee-4f5e-8273-6fa519dbf86b",
  },
  {
    id: "c838934c-a1d5-4279-8fe6-9a9dbb3a9dd0",
    email: "hosam.mohamed@cds-sw.comaasasas",
    password: "",
    provider: "MANUAL",
    roleCode: "admin",
    businessUnitId: "a6616d07-3bdf-4987-b621-439c514f2b32",
    username: "hosamusf",
    status: "ACTIVE",
    firstName: null,
    lastName: null,
    department: null,
    phoneNumber: null,
    activeDirectoryId: null,
    createdAt: "2025-07-23T06:43:40.352Z",
    modifiedAt: "2025-07-27T10:26:30.519Z",
    createdById: "bde53fcc-07ee-4f5e-8273-6fa519dbf86b",
    modifiedById: "bde53fcc-07ee-4f5e-8273-6fa519dbf86b",
  },
  {
    id: "dd25cfd1-72f7-4db6-b340-f882194e95af",
    email: null,
    password: "",
    provider: "ACTIVE_DIRECTORY",
    roleCode: null,
    businessUnitId: "a6616d07-3bdf-4987-b621-439c514f2b32",
    username: "user1",
    status: "ACTIVE",
    firstName: "user",
    lastName: "1",
    department: null,
    phoneNumber: null,
    activeDirectoryId: 4,
    createdAt: "2025-04-23T11:21:35.090Z",
    modifiedAt: "2025-04-23T11:21:35.090Z",
    createdById: null,
    modifiedById: null,
  },
  {
    id: "ef6a693e-12ef-11f0-9d00-00155ddda9d3",
    email: "ibrahim@admin.com",
    password: "",
    provider: "MANUAL",
    roleCode: "admin",
    businessUnitId: "a6616d07-3bdf-4987-b621-439c514f2b32",
    username: "ibrahim",
    status: "ACTIVE",
    firstName: null,
    lastName: null,
    department: null,
    phoneNumber: null,
    activeDirectoryId: null,
    createdAt: "2025-04-06T15:01:24.143Z",
    modifiedAt: "2025-07-27T10:26:30.519Z",
    createdById: null,
    modifiedById: "bde53fcc-07ee-4f5e-8273-6fa519dbf86b",
  },
  {
    id: "fa0aa418-97e9-44b1-adf0-2c1d3cb12edd",
    email: "test@cds",
    password: "",
    provider: null,
    roleCode: "Supervisor",
    businessUnitId: "a6616d07-3bdf-4987-b621-439c514f2b32",
    username: "testdd",
    status: "ACTIVE",
    firstName: "test",
    lastName: "tss",
    department: null,
    phoneNumber: null,
    activeDirectoryId: null,
    createdAt: "2025-03-11T12:54:28.485Z",
    modifiedAt: "2025-04-07T08:36:30.937Z",
    createdById: "bde53fcc-07ee-4f5e-8273-6fa519dbf86b",
    modifiedById: "bde53fcc-07ee-4f5e-8273-6fa519dbf86b",
  },
  {
    id: "fa0aa418-97e9-44b1-adf0-2c1d3cb12ede",
    email: "test@cds",
    password: "",
    provider: null,
    roleCode: "Supervisor",
    businessUnitId: "a6616d07-3bdf-4987-b621-439c514f2b32",
    username: "test",
    status: "ACTIVE",
    firstName: "test",
    lastName: "tss",
    department: null,
    phoneNumber: null,
    activeDirectoryId: null,
    createdAt: "2025-03-11T12:54:28.485Z",
    modifiedAt: "2025-04-07T08:36:30.937Z",
    createdById: "bde53fcc-07ee-4f5e-8273-6fa519dbf86b",
    modifiedById: "bde53fcc-07ee-4f5e-8273-6fa519dbf86b",
  },
];

const usersSlice = createSlice({
  name: "users",
  initialState: users, // just load array directly
  reducers: {
    addUser: (state, action: PayloadAction<User>) => {
      state.push(action.payload);
    },
    updateUser: (state, action: PayloadAction<User>) => {
      const index = state.findIndex((u) => u.id === action.payload.id);
      if (index !== -1) {
        state[index] = action.payload;
      }
    },
    deleteUser: (state, action: PayloadAction<string>) => {
      toast.success("Deleted successfully");
      return state.filter((u) => u.id !== action.payload);
    },
  },
});

export const { addUser, updateUser, deleteUser } = usersSlice.actions;
export default usersSlice.reducer;
